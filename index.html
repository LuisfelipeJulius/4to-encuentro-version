
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>

  <style>
    .card {
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    .btn-submit {
      background-color: #00a650 !important;
      color: white;
      font-weight: bold;
    }
    .form-label {
      font-weight: 400;
    }
    .required::after {
      content: " *";
      color: red;
    }
  </style>
  <body>
    <div class="r">
      <div class="row justify-content-center">
        <div class="">
          <div class="my-4">
            <div class="card-body p-4">
              <div id="formularioRegistro">
                <!-- Nombre y Apellido en la misma fila en desktop/tablet -->
                <div class="row">
                  <div class="col-sm-6 mb-3">
                    <label for="nombre" class="form-label required"
                      >Nombre</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="nombre"
                      placeholder="Ingrese su nombre"
                      required
                    />
                    <div class="invalid-feedback">
                      Por favor ingrese su nombre.
                    </div>
                  </div>
                  <div class="col-sm-6 mb-3">
                    <label for="apellido" class="form-label required"
                      >Apellido</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="apellido"
                      placeholder="Ingrese su apellido"
                      required
                    />
                    <div class="invalid-feedback">
                      Por favor ingrese su apellido.
                    </div>
                  </div>
                </div>
                <div class="row">
                  <!-- Cedula o Nit -->
                  <div class="col-sm-6 mb-3">
                    <label for="cedula" class="form-label required"
                      >Cédula o Nit</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="cedula"
                      placeholder="Ingrese su cédula o NIT (solo números)"
                      pattern="[0-9]+"
                      required
                    />
                    <div class="invalid-feedback">
                      Por favor ingrese un número válido sin espacios ni
                      caracteres especiales.
                    </div>
                  </div>

                  <!-- Email -->
                  <div class="col-sm-6 mb-3">
                    <label for="email" class="form-label required">Email</label>
                    <input
                      type="email"
                      class="form-control"
                      id="email"
                      placeholder="Ingrese su email"
                      required
                    />
                    <div class="invalid-feedback">
                      Por favor ingrese un email válido.
                    </div>
                  </div>
                </div>
                <div class="row">
                  <!-- Celular -->
                  <div class="col-sm-6 mb-3">
                    <label for="celular" class="form-label required"
                      >Celular</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="celular"
                      placeholder="Ingrese su número de celular"
                      pattern="[0-9]+"
                      required
                    />
                    <div class="invalid-feedback">
                      Por favor ingrese un número de celular válido (solo
                      números).
                    </div>
                  </div>

                  <!-- Empresa/Ganadería -->
                  <div class="col-sm-6 mb-3">
                    <label for="empresa" class="form-label required"
                      >Empresa/Ganadería</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="empresa"
                      placeholder="Ingrese el nombre de su empresa o ganadería"
                      required
                    />
                    <div class="invalid-feedback">
                      Por favor ingrese el nombre de su empresa o ganadería.
                    </div>
                  </div>
                </div>
                <!-- Municipio y # Vacas en la misma fila en desktop/tablet -->
                <div class="row">
                  <div class="col-sm-6 mb-3">
                    <label for="municipio" class="form-label required"
                      >Municipio</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="municipio"
                      placeholder="Ingrese su municipio"
                      required
                    />
                    <div class="invalid-feedback">
                      Por favor ingrese su municipio.
                    </div>
                  </div>
                  <div class="col-sm-6 mb-3">
                    <label for="vacas" class="form-label required"
                      ># Vacas</label
                    >
                    <input
                      type="text"
                      class="form-control"
                      id="vacas"
                      placeholder="Ingrese el número de vacas"
                      pattern="[0-9]+"
                      required
                    />
                    <div class="invalid-feedback">
                      Por favor ingrese un número válido sin espacios ni
                      caracteres especiales.
                    </div>
                  </div>
                </div>

                <!-- Genética -->
                <div class="mb-3">
                  <label for="genetica" class="form-label required"
                    >Genética</label
                  >
                  <select class="form-select" id="genetica" required>
                    <option value="" selected disabled>
                      Seleccione una opción
                    </option>
                    <option value="Embriones">Embriones</option>
                    <option value="Monta Natural">Monta Natural</option>
                    <option value="Semen">Semen</option>
                  </select>
                  <div class="invalid-feedback">
                    Por favor seleccione una opción.
                  </div>
                </div>
                <div class="mb-3">
                  <label for="quienInvita" class="form-label required"
                    >Quien invita</label
                  >
                  <select class="form-select" id="quienInvita" required>
                    <option value="" selected disabled>
                      Seleccione una opción
                    </option>
                    <option value="Finca">Finca</option>
                    <option value="Contegral">Contegral</option>
                    <option value="Yara">Yara</option>
                    <option value="Saenz Fety">Saenz Fety</option>
                  </select>
                  <div class="invalid-feedback">
                    Por favor seleccione quien invita.
                  </div>
                </div>

                <!-- Checkbox Términos y Condiciones -->
                <div class="mb-3 form-check">
                  <input
                    type="checkbox"
                    class="form-check-input"
                    id="terminosCondiciones"
                    required
                  />
                  <label class="form-check-label" for="terminosCondiciones"
                    >Acepto términos y condiciones</label
                  >
                  <div class="invalid-feedback">
                    Debe aceptar los términos y condiciones para continuar.
                  </div>
                </div>

                <!-- Botón de envío -->
                <div class="d-grid gap-2 mt-4">
                  <button
                    type="submit"
                    class="btn btn-submit"
                    id="submitButton"
                  >
                    Enviar Datos
                  </button>
                </div>

                <!-- Mensaje de éxito/error -->
                <div
                  class="alert alert-success mt-3 d-none"
                  id="successMessage"
                >
                  Datos enviados correctamente.
                </div>
                <div class="alert alert-danger mt-3 d-none" id="errorMessage">
                  Ha ocurrido un error al enviar los datos. Por favor intente
                  nuevamente.
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal de Términos y Condiciones -->
    <div
      class="modal fade"
      id="terminosModal"
      tabindex="-1"
      aria-labelledby="terminosModalLabel"
      aria-hidden="true"
      target="_parent"
    >
      <div class="modal-dialog modal-dialog-scrollable">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="terminosModalLabel">
              Términos y Condiciones
            </h5>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body px-5">
            <h6 class="fw-bold mb-3">
              Autorización para Tratamiento de Datos Personales
            </h6>
            <p>
              Autorizo a GENÉTICA BIOS S.A.S identificada con NIT 8002042266,
              FINCA S.A.S. identificada con NIT 860004828-1, CONTEGRAL S.A.S
              identificada con NIT 890901271 ubicadas en Envigado - CR 48 NO 27A
              SUR 89, Yara Colombia, identificada con NIT 8600063335 ubicada en:
              Carrera 11 # 94 A-34, Piso 3 Edificio LG, Bogotá, Colombia, en
              calidad de RESPONSABLES para recolectar, tratar, usar, ceder,
              transferir o transmitir a terceros o encargados en Colombia o en
              el exterior los datos personales obtenidos a través de la presente
              autorización.
            </p>
            <p>
              He leído la Política de Tratamiento de Datos Personales disponible
              en los sitios web:
              <a
                href="https://www.grupobios.co/gobierno-corporativo"
                target="_blank"
                >Grupo BIOS</a
              >,
              <a
                href="https://www.yara.com.co/politica-de-privacidad/"
                target="_blank"
                >Yara</a
              >,
              <a
                href="https://saenzfety.com/wp-content/uploads/2019/07/PoliticaHabeasData.pdf"
                target="_blank"
                >Saenz Fety</a
              >, por ello, consiento y autorizo de manera previa, expresa e
              inequívoca que mis datos personales sean tratados para el
              cumplimiento de las siguientes finalidades:
            </p>

            <h6 class="fw-bold mt-4 mb-2">Finalidades del Tratamiento</h6>
            <ol class="ps-3">
              <li>
                Ser contactado para la gestión de mercadeo, promoción y venta de
                productos
              </li>
              <li>
                Incluirme en las jornadas de capacitación y formación que
                realice la Compañía
              </li>
              <li>
                Mantenerme informado sobre los eventos que se llegaren a
                realizar
              </li>
              <li>
                Recibir el portafolio de productos y servicios ofrecidos por la
                Compañía
              </li>
              <li>
                Todas las demás estipulados en la política para el tratamiento
                de datos personales de la compañía
              </li>
            </ol>

            <h6 class="fw-bold mt-4 mb-2">Derechos del Titular</h6>
            <p>Como titular tengo los siguientes derechos:</p>
            <ol class="ps-3">
              <li>Acceder a los datos proporcionados</li>
              <li>
                Solicitar la actualización y rectificación frente a datos
                parciales
              </li>
              <li>Solicitar prueba de la autorización otorgada</li>
              <li>
                Presentar ante la (SIC) quejas por infracciones a lo dispuesto
                en la normatividad vigente
              </li>
              <li>Revocar la autorización</li>
              <li>
                Abstenerme de responder las preguntas sobre datos sensibles o
                sobre datos de las niñas y niños y adolescentes
              </li>
            </ol>

            <p class="mt-3">
              Podré ejercer los derechos de consulta, supresión y revocación
              dirigiendo mi solicitud a los correos electrónicos:
              <a href="mailto:datospersonales@grupobios.co"
                >datospersonales@grupobios.co</a
              >,
              <a href="mailto:dataprivacycolombia@yara.com"
                >dataprivacycolombia@yara.com</a
              >,
              <a href="mailto:info@saenzfety.com">info@saenzfety.com</a>
            </p>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-bs-dismiss="modal"
            >
              Cerrar
            </button>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
   document.addEventListener('DOMContentLoaded', function() {
    // Función para validar los campos
    function validarFormulario() {
        let isValid = true;
        const inputs = document.querySelectorAll('#formularioRegistro input, #formularioRegistro select');

        inputs.forEach(input => {
            // Validar campos obligatorios
            if (input.hasAttribute('required') && !input.value.trim()) {
                input.classList.add('is-invalid');
                isValid = false;
            } else if (input.id === 'cedula' || input.id === 'vacas') {
                // Validar que solo sean números
                if (!/^[0-9]+$/.test(input.value)) {
                    input.classList.add('is-invalid');
                    isValid = false;
                } else {
                    input.classList.remove('is-invalid');
                }
            } else {
                input.classList.remove('is-invalid');
            }
        });

        return isValid;
    }

    // Evento para el botón de envío
    document.getElementById('submitButton').addEventListener('click', function() {
        // Ocultar mensajes previos
        document.getElementById('successMessage').classList.add('d-none');
        document.getElementById('errorMessage').classList.add('d-none');

        // Validar formulario
        if (validarFormulario()) {
            // Recopilar datos
            const datos = {
                quienInvita: document.getElementById('quienInvita').value,
                nombre: document.getElementById('nombre').value,
                apellido: document.getElementById('apellido').value,
                cedula: document.getElementById('cedula').value,
                empresa: document.getElementById('empresa').value,
                municipio: document.getElementById('municipio').value,
                vacas: document.getElementById('vacas').value,
                genetica: document.getElementById('genetica').value,
               celular: document.getElementById('celular').value,
               email: document.getElementById('email').value

            };

            // Enviar datos al webhook
            fetch('https://hook.us2.make.com/iidsekdedoz748l8aiwgui7vlvkg3vvm', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(datos)
            })
            .then(response => {
                if (response.ok) {
                    // Mostrar mensaje de éxito
                    document.getElementById('successMessage').classList.remove('d-none');
                    // Limpiar formulario
                    document.querySelectorAll('#formularioRegistro input, #formularioRegistro select').forEach(input => {
                        input.value = '';
                        if (input.tagName === 'SELECT') {
                            input.selectedIndex = 0;
                        }
                    });
                    // Redirigir a la página de registro exitoso
                   window.top.location.href  = 'https://www.finca.co/registro-exitoso';
                } else {
                    // Mostrar mensaje de error
                    document.getElementById('errorMessage').classList.remove('d-none');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                document.getElementById('errorMessage').classList.remove('d-none');
            });
        }
    });



// Función para abrir un popup en la ventana principal
function openPopupInParentWindow(url) {
  try {
    window.parent.postMessage({
      action: 'openPopup',
      url: url
    }, '*');
    console.log('Mensaje de popup enviado a la ventana principal');
  } catch (e) {
    console.error('Error al enviar mensaje:', e);
  }
}

// Interceptar TODOS los enlaces para que se abran en la ventana principal
document.addEventListener('click', function(e) {
  const target = e.target.closest('a');
  if (target && target.getAttribute('href')) {
    e.preventDefault();
    const href = target.getAttribute('href');
    redirectParentWindow(href);
  }
}, true);





    </script>
  </body>
</html>
